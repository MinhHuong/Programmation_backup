package gui;

import javax.swing.BorderFactory;
import javax.swing.ImageIcon;
import javax.swing.JPanel;
import javax.swing.JTabbedPane;

import controller.DepenseQuoti;
import controller.Economise;
import controller.FluxMonetaire;
import controller.Gestion;
import dataInVector.DataDepQuoti;

@SuppressWarnings("serial")
public class TabPane extends JTabbedPane {

	private PanelDepQuoti m_pn_dep;
	
	public TabPane()
	{
		super();

		// Initialiser l'onglet DÉPENSE QUOTIDIENNE
		ImageIcon icon_depense = new ImageIcon(getClass().getResource("/depense.png"));
		m_pn_dep = new PanelDepQuoti(this);
		addTab("Dépense quotidienne", icon_depense, m_pn_dep, "Gérer des dépenses quotidiennes");

		// Initialiser l'onglet FLUX MONÉTAIRE
		ImageIcon icon_flux = new ImageIcon(getClass().getResource("/flux.png"));
		JPanel pn_flux = new JPanel();
		addTab("Emprunt - Prêt", icon_flux, pn_flux, "Gérer des flux monétaires (emprunt/prêt)");

		// Initialiser l'onglet ÉCONOMISE
		ImageIcon icon_eco = new ImageIcon(getClass().getResource("/economise.png"));
		JPanel pn_eco = new JPanel();
		addTab("Économise", icon_eco, pn_eco, "Gérer le budget");

		setBorder(BorderFactory.createEmptyBorder(10, 15, 10, 15));
	}
	
	public Gestion getGestion()
	{
		switch(getSelectedIndex())
		{
		case 0:
			return DepenseQuoti.getDepenseQuotiContext();
		case 1:
			return FluxMonetaire.getFluxContext();
		case 2:
			return Economise.getEconomiseContext();
		}
		
		return null;
	}
	
	public void addLineTab()
	{
		Object myObj = null;
		
		switch(getSelectedIndex())
		{
		case 0:
			myObj = new DataDepQuoti();
			break;
		case 1:
			break;
		case 2:
			break;
		}
		
		m_pn_dep.addLinePanel(myObj);
	}
	
	public void removeLines()
	{
		m_pn_dep.removeLinesPanel();
	}
	
	public void removeAllLines()
	{
		m_pn_dep.removeAllPanel();
	}

	/*
	/**
	 * Le grand panneau de chaque onglet, qui contient une table et un petit panneau de boutons
	 * 
	 * @author MiHu
	 *
	 * @param <S> Le type de données convenable (DataDepQuoti, DataFlux, DataEco...)
	 *
	class PanelTab<S> extends JPanel {
		
		private TableData<S> m_table;
		
		public PanelTab(MyTableModel<S> table_model)
		{
			super(new FlowLayout(FlowLayout.CENTER, 0, 10));

			m_tab_model = table_model;
			m_table = new JTable(m_tab_model);
			m_table.setPreferredScrollableViewportSize(new Dimension(630, 280));
			m_table.setFillsViewportHeight(true);
			m_table.setRowHeight(30);

			JScrollPane scrollPane = new JScrollPane(m_table);

			add(scrollPane);
			
			PanelButtons pn_buttons = new PanelButtons((TabPane.this));
			add(pn_buttons);
		}

		public PanelTab() 
		{
			super(new FlowLayout(FlowLayout.CENTER, 0, 10));
			
			PanelButtons pn_buttons = new PanelButtons((TabPane.this));
			add(pn_buttons);
		}*/

}
