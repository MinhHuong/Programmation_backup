JMP BEGIN

DB 5A
DB 60

DB FA ;L 0
DB 0A ;L 1
DB B6 ;L 2
DB 9E ;L 3
DB 4E ;L 4
DB DC ;L 5
DB FC ;L 6
DB 8A ;L 7
DB FE ;L 8
DB DE ;L 9
BEGIN:	STI
	OUT 07
START:	
	MOV DL,04
DIZAINE:
	MOV AL,[DL]
	OUT 02
	MOV BL,04
BOUCLE:
	MOV AL,[BL]
	INC AL
	OUT 02 
	CMP CL,3
	JZ START
	CMP CL,1
	JZ BOUCLE
	INC BL
	CMP BL,0E
	JNZ BOUCLE
	INC DL
	CMP DL,0E
	JNZ DIZAINE
	JMP START

org	5A
	iret

ORG 60
	CLI
	PUSH AL
	PUSHF
	IN 07
	CMP AL,42
	JZ CONTINUE
	CMP AL,41
	JZ FINISH
	CMP AL,43
	JZ RESET
	JMP EXIT
CONTINUE:
	CMP CL,3
	jz RUN
	CMP CL,0
	JZ STOP
RUN: 	
MOV CL,0
	JMP EXIT
STOP:	
MOV CL,1
	JMP EXIT
RESET:	
CMP CL,0
	JZ EXIT
	MOV CL,3
	JMP EXIT
EXIT:	
POPF
	POP AL
	STI
	IRET
FINISH:
END